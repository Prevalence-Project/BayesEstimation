"0","# Bayesian Evidence Sythesis modeling using JAGS"
"0","bayes_modeling <- function(N,lambda,op,inits,n.chains=2,n.adapt=500,n.iter=10000){"
"0","  p_DM <- op$p_DM;"
"0","  n_DM <- round(N*p_DM);"
"0","  p_DMT <- op$p_DMT"
"0","  n_DMT <- round(n_DM*p_DMT)"
"0","  n_DMTb <- round(op$p_DMTb*n_DM);"
"0","  n_DNMTb <- round(N*op$p_Tb-n_DMTb)"
"0","  n_ODF <- op$n_ODF"
"0","  "
"0","  dat <- list(""p_DM""=p_DM,""n_DMTb""=n_DMTb,""n_DMT""=n_DMT,""n_DNMTb""=n_DNMTb,""n_ODF""=n_ODF,"
"0","       ""N""=N,""lambda""=lambda)"
"0",""
"0","  cat(""model"
"0","      {"
"0","      n_DM <- N*p_DM"
"0","      n_DMTb ~ dpois(n_DM*tau[1])"
"0","      n_DNMTb ~ dpois(N*p_DNM*tau[1])"
"0","      "
"0","      n_DMT ~ dpois(n_DM*(tau[1]+tau[2]))"
"0","      n_DNMT ~ dpois(N*p_DNM*(tau[1]+tau[2]))"
"0","      n_NT <- n_DM-n_DMT+N*p_DNM-n_DNMT+N*p_U"
"0","      "
"0","      n_ODF ~ dpois(n_NT*lambda)"
"0","      "
"0","     "
"0","      pi <- c(3.3,1.1,5.5)"
"0","      tau ~ ddirch(pi)"
"0","      p_DNM ~ dbeta(1.1,55)"
"0","      p_U ~ dbeta(1.1,55)"
"0","  "
"0","      }"",file='pois_jags.txt')"
"0","  "
"0","  jags.m <- jags.model(file=""pois_jags.txt"",data=dat,inits = inits,"
"0","                       n.chains=n.chains,n.adapt=n.adapt)"
"0","  params <- c('p_DNM','p_U')"
"0","  samps <- coda.samples( jags.m, params, n.iter=n.iter ) "
"0","  return(samps)"
"0","}"
